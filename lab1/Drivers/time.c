#include "drv_LCD.hpp"

//????? 3 ?????
//??????? APB1 ? 2 ?,? APB1 ? 36M
//arr:??????
//psc:??????
//????????? 3!
void TIM3_Int_Init(u16 arr,u16 psc)
{
	 TIM_TimeBaseInitTypeDef TIM_TimeBaseStructure;
	NVIC_InitTypeDef NVIC_InitStructure;
	RCC_APB1PeriphClockCmd(RCC_APB1Periph_TIM3, ENABLE); //??? TIM3 ??
	 
	//??? TIM3 ???
	TIM_TimeBaseStructure.TIM_Period = arr; //??????????????
	TIM_TimeBaseStructure.TIM_Prescaler =psc; //?????????????
	TIM_TimeBaseStructure.TIM_ClockDivision = TIM_CKD_DIV1; //??????
	TIM_TimeBaseStructure.TIM_CounterMode = TIM_CounterMode_Up; //TIM ????
	TIM_TimeBaseInit(TIM3, &TIM_TimeBaseStructure); //???? TIM3
	TIM_ITConfig(TIM3,TIM_IT_Update,ENABLE ); //???????
	//????? NVIC ??
	NVIC_InitStructure.NVIC_IRQChannel = TIM3_IRQn; //TIM3 ??
	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0; //????? 0 ?
	NVIC_InitStructure.NVIC_IRQChannelSubPriority = 3; //???? 3 ?
	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE; //IRQ ?????
	NVIC_Init(&NVIC_InitStructure); //???? NVIC ???
	TIM_Cmd(TIM3, ENABLE); //??? TIM3
}
//??? 3 ???????
void TIM3_IRQHandler(void) //TIM3 ??
{
if (TIM_GetITStatus(TIM3, TIM_IT_Update) != RESET) //?? TIM3 ????????
{

}
}